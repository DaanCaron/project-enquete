(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{4830:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return n(9772)}])},9772:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var o=n(5893),a=n(9638),s=n(1230),c=n(6240),i=n(7294),l=n(7642);let r=(0,l.io)("ws://192.168.0.132:4000");var u=()=>{let[e,t]=(0,i.useState)(null),[n,l]=(0,i.useState)(null),u=!1;(0,i.useEffect)(()=>(h(),()=>{r.off("nextQuestion"),r.off("prevQuestion"),r.off("selectSurvey")}),[]);let d=async()=>{if(null!==n){let e=await s.Z.getAllQuestionsBysurveyId(n),t=await e.json();for(let e=0;e<t.length;e++){let n=await a.Z.removeAllAnswersForQuestion(t[e].id),o=await n.json();console.log(o)}}},h=async()=>{try{let e=await c.Z.getAllSurveys();if(e.ok){let n=await e.json();t(n),n.length>0&&l(n[0].id)}}catch(e){console.error("Failed to load surveys:",e)}};return(0,o.jsx)("div",{className:"h-full w-full flex flex-col items-end justify-center gap-6 pr-24",children:(0,o.jsxs)("div",{className:"max-w-lg",children:[(0,o.jsxs)("div",{className:"flex w-full gap-5 mb-5",children:[(0,o.jsx)("select",{id:"survey-select",value:n||"",onChange:e=>l(parseInt(e.target.value)),className:"w-full px-4 py-4 border border-gray-300 rounded-lg shadow-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-400 transition",children:null==e?void 0:e.filter(e=>e.questions.length>0).map(e=>(0,o.jsx)("option",{value:e.id,children:e.name},e.id))}),(0,o.jsx)("button",{onClick:()=>{u=!1,null!==n&&(d(),console.log("Selected survey ID:",n),r.emit("selectSurvey",n))},className:"px-6 py-4 rounded-xl bg-blue-600 text-white font-semibold shadow-md hover:bg-blue-700 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-300 active:scale-95",children:"Start enquete"}),(0,o.jsx)("button",{onClick:()=>{u=!1,r.emit("selectSurvey",0)},className:"px-6 py-4 rounded-xl bg-blue-600 text-white font-semibold shadow-md hover:bg-blue-700 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-300 active:scale-95",children:"Stop enquete"})]}),(0,o.jsxs)("div",{className:"text-3xl flex gap-5 mb-5",children:[(0,o.jsx)("button",{onClick:()=>{u=!1,r.emit("prevQuestion")},className:"px-6 py-6 rounded-xl bg-blue-600 text-white font-semibold shadow-md hover:bg-blue-700 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-300 active:scale-95",children:"Vorige vraag"}),(0,o.jsx)("button",{onClick:()=>{u=!1,r.emit("nextQuestion")},className:"px-6 py-6 rounded-xl bg-blue-500 text-white font-semibold shadow-md hover:bg-blue-600 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-300 active:scale-95",children:"Volgende vraag"})]}),(0,o.jsx)("div",{className:"text-3xl flex gap-5",children:(0,o.jsx)("button",{onClick:()=>{console.log(u=!u),r.emit("toggleGraph",u)},className:"px-6 py-6 w-full rounded-xl bg-blue-600 text-white font-semibold shadow-md hover:bg-blue-700 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-300 active:scale-95",children:"Toon grafiek voor actieve vraag"})})]})})},d=()=>(0,o.jsx)("div",{className:"bg-[#424242] h-screen w-screen",children:(0,o.jsx)(u,{})})},1230:function(e,t){"use strict";let n=async(e,t)=>await fetch("".concat("http://192.168.0.132:8000","/question/").concat(t,"/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}),o=async()=>await fetch("".concat("http://192.168.0.132:8000","/question/all"),{method:"GET",headers:{"Content-Type":"application/json"}}),a=async e=>await fetch("".concat("http://192.168.0.132:8000","/question/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}),s=async e=>await fetch("".concat("http://192.168.0.132:8000","/question/update/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});t.Z={getQuestionBySequenceAndSurveyId:n,getAllQuestions:o,getAllQuestionsBysurveyId:a,changeQuestion:s,createQuestion:(e,t)=>fetch("".concat("http://192.168.0.132:8000","/survey/").concat(t,"/question"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),removeQuestion:e=>fetch("".concat("http://192.168.0.132:8000","/question/remove/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}),castVote:(e,t,n)=>fetch("".concat("http://192.168.0.132:8000","/question/vote/").concat(e,"/").concat(t,"/").concat(n),{method:"POST",headers:{"Content-Type":"application/json"}})}},9638:function(e,t){"use strict";t.Z={getAllAnswersByQuestionId:e=>fetch("".concat("http://192.168.0.132:8000","/answer/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}),removeAllAnswersForQuestion:e=>fetch("".concat("http://192.168.0.132:8000","/answer/").concat(e,"/remove/all"),{method:"DELETE",headers:{"Content-Type":"application/json"}})}},6240:function(e,t){"use strict";let n=async()=>await fetch("".concat("http://192.168.0.132:8000","/survey/all"),{method:"GET",headers:{"Content-Type":"application/json"}}),o=async(e,t)=>await fetch("".concat("http://192.168.0.132:8000","/survey/add/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=async e=>await fetch("".concat("http://192.168.0.132:8000","/survey/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}});t.Z={getAllSurveys:n,addSurvey:o,removeSurveyById:a}}},function(e){e.O(0,[642,774,888,179],function(){return e(e.s=4830)}),_N_E=e.O()}]);